<!-- Formulario Shopify con video -->
<style>
  /* Variables */
  #shopify-form-embed {
    --bg-color: #fff;
    --min-height: 490px;
    --form-width: 100%;
  }

  /* Estilos */
  #shopify-form-embed {
    background: var(--bg-color);
  }
  #shopify-form-embed .sfe-wrap {
    min-height: var(--min-height);
    width: var(--form-width);
    margin: 0;
    padding: 32px 20px;
    display: grid;
    gap: 24px;
    align-content: start;
    box-sizing: border-box;
    grid-template-columns: 1fr 1fr;
  }
  #shopify-form-embed .sfe-content {
    display: grid;
    gap: 16px;
  }
  #shopify-form-embed .sfe-heading {
    margin: 0;
    font-size: clamp(22px, 3vw, 32px);
    line-height: 1.2;
  }
  #shopify-form-embed .sfe-subtext { margin: 0 0 8px; opacity: .9; }
  #shopify-form-embed .sfe-form { display: grid; gap: 12px; }
  #shopify-form-embed .sfe-field { display: grid; gap: 6px; }
  #shopify-form-embed .sfe-field input,
  #shopify-form-embed .sfe-field textarea {
    width: 100%;
    border: 1px solid rgba(0,0,0,.15);
    border-radius: 6px;
    padding: 10px 12px;
    font: inherit;
    background: #fff;
    box-sizing: border-box;
  }
  #shopify-form-embed .sfe-btn {
    appearance: none;
    border: 0;
    border-radius: 8px;
    padding: 12px 16px;
    font-weight: 600;
    cursor: pointer;
    background: #111;
    color: #fff;
  }
  #shopify-form-embed .sfe-video iframe {
    width: 100%;
    height: 100%;
    aspect-ratio: 16 / 9;
  }
  @media (max-width: 768px) {
    #shopify-form-embed .sfe-wrap {
      grid-template-columns: 1fr;
    }
  }
</style>

<div id="shopify-form-embed" data-video-url="https://www.youtube.com/watch?v=6CQDNe4A9OA">
  <div class="sfe-wrap">
    <div class="sfe-content">
      <h2 class="sfe-heading">Contáctanos</h2>
      <p class="sfe-subtext">Déjanos tus datos y te escribimos.</p>

      <form class="sfe-form" action="/contact#contact_form" method="post" accept-charset="UTF-8">
        <input type="hidden" name="form_type" value="contact">
        <input type="hidden" name="utf8" value="✓">
        <div class="sfe-field">
          <label for="sfe-name">Nombre</label>
          <input id="sfe-name" type="text" name="contact[name]" required>
        </div>

        <div class="sfe-field">
          <label for="sfe-email">Email</label>
          <input id="sfe-email" type="email" name="contact[email]" required>
        </div>

        <div class="sfe-field">
          <label for="sfe-phone">Teléfono</label>
          <input id="sfe-phone" type="tel" name="contact[phone]">
        </div>

        <div class="sfe-field">
          <label for="sfe-message">Mensaje</label>
          <textarea id="sfe-message" name="contact[body]" rows="5" required></textarea>
        </div>

        <input type="hidden" name="contact[tags]" value="Shopify">
        <input type="hidden" name="contact[accepts_marketing]" value="true">

        <button type="submit" class="sfe-btn">Enviar</button>
      </form>
    </div>
    <div class="sfe-video">
      <iframe src="" title="Video de YouTube" frameborder="0"
        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
        allowfullscreen></iframe>
    </div>
  </div>
</div>

<script>
  (function() {
    var container = document.getElementById('shopify-form-embed');
    var videoUrl = container.dataset.videoUrl;
    var iframe = container.querySelector('.sfe-video iframe');
    if (videoUrl && iframe) {
      try {
        var url = new URL(videoUrl);
        var videoId = url.searchParams.get('v') || url.pathname.split('/').pop();
        if (videoId) {
          iframe.src = 'https://www.youtube.com/embed/' + videoId;
        }
      } catch (e) {
        // Invalid URL
      }
    }
  })();
</script>
